{"version":3,"file":"static/js/350.0944e549.chunk.js","mappings":"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","sources":["components/headerUser.js","routes/PatientInfo.js"],"sourcesContent":["import \"../style/headerUser.css\";\r\n\r\nfunction HeaderUser() {\r\n  \r\n  return (\r\n    <div className=\"header-user\">\r\n      <span className=\"header-user-name\">name</span>\r\n      <span className=\"header-user-icon\"></span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HeaderUser;\r\n","import { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport \"../style/PatientInfo.css\";\nimport HeaderUser from \"../components/headerUser\";\n\nfunction PatientInfo( {value, onHandleData} ) {\n  const navigate = useNavigate();\n  const location = useLocation();\n  // 클릭한 환자의 코드저장 변수\n  const patient = location.state?.id;\n  // 요청후 환자에 관한 정보를 저장할 변수\n  const [info, setInfo] = useState(\n    {\n      Patient_cd: \"\",\n      Patient_nm: \"\",\n      Region: \"\",\n      Hospital: \"\",\n      Sex: \"\",\n      Age: 25,\n      Birth_dt: \"\",\n      Height: 183,\n      Weight: 78,\n      Participants: \"\",\n      Memo: \"\",\n    }\n  );\n  // 파일 저장 변수\n  const [files, setFiles] = useState([]);\n\n  // 페이지 렌더시 한번만 요청\n  useEffect(() => {\n    // 정보 저장하는 함수\n    async function saveInfo() {\n      try{\n        const response = await fetch('/api/patient/detailInfo', {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({Patient_cd: patient}),\n        });\n        // 연결 성공 유무 판단\n        if (response.ok) {\n          const res = await response.json();\n          if (res.success) {\n            // 데이터 저장\n            console.dir(res.data);\n            setInfo(\n              {\n                Patient_cd: res.data[0].Patient_cd,\n                Patient_nm: res.data[0].Patient_nm,\n                Region: res.data[0].Region,\n                Hospital: res.data[0].Hospital,\n                Sex: res.data[0].Sex,\n                Age: res.data[0].Age,\n                Birth_dt: res.data[0].Birth_dt,\n                Height: res.data[0].Height,\n                Weight: res.data[0].Weight,\n                Participants: res.data[0].Participants,\n                Memo: res.data[0].Memo,\n              }\n            );\n          } else {\n            alert(res.msg);\n          }\n        } else {\n          throw Error(\"서버 응답 실패\");\n        }\n      } catch (err) {\n        console.error((err.message));\n      }\n    };\n\n    // 파일정보 가져오는 함수\n    async function saveFile() {\n      try{\n        const response = await fetch('/api/dicom/list', {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({Patient_cd: patient}),\n        });\n        // 연결 성공 유무 판단\n        if (response.ok) {\n          const res = await response.json();\n          if (res.success) {\n            // 데이터 저장 \n            setFiles(res.data);\n          } else {\n            alert(res.msg);\n          }\n        } else {\n          throw Error(\"서버 응답 실패\");\n        }\n      } catch (err) {\n        console.error((err.message));\n      }\n    };\n\n    saveInfo();\n    saveFile();\n  }, [patient])\n\n  // 데이터 지우는 함수\n  async function fileDelete() {\n    try{\n      const response = await fetch('/api/patient/del', {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({Patient_cd: patient}),\n      });\n      // 연결 성공 유무 판단\n      if (response.ok) {\n        const res = await response.json();\n        if (res.success) {\n          // 데이터 저장\n          // setFiles(res.data);\n        } else {\n          alert(res.msg);\n        }\n      } else {\n        throw Error(\"서버 응답 실패\");\n      }\n    } catch (err) {\n      console.error((err.message));\n    }\n  };\n  async function onDelete() {\n    onHandleData({isDelete: true, code: patient});\n    await fileDelete();\n  }\n\n  // 로그아웃 함수\n  function onLogOut() {\n    navigate(`/`);\n  }\n\n  //파일 클릭시 그 파일에 대한 정보 요청하는 함수 (환자코드+파일이름)\n  async function fileLoad(send) {\n    try{\n      const response = await fetch('/api/dicom/download', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(send),\n      });\n      // 연결 성공 유무 판단\n      if (response.ok) {\n        const res = await response.json();\n        if (res.success) {\n          // 데이터 저장\n          setFiles(res.data);\n        } else {\n          alert(res.msg);\n        }\n      } else {\n        throw Error(\"서버 응답 실패\");\n      }\n    } catch (err) {\n      console.error((err.message));\n    }\n  };\n  function onDownload(e) {\n    const fileName = e.target.innerText;\n    const send = patient + \"/\" + fileName;\n\n    fileLoad(send);\n  }\n\n  // 라이브채팅으로 이동하는 함수\n  function onChat() {\n    navigate('/VideoChatting');\n  }\n\n  return (\n    <div className=\"patientInfo\">\n      <header className=\"patientInfo-header\">\n        <h1 className=\"patientInfo-header-title\">Patient Registration</h1>\n        <Link className=\"patientInfo-header-link\" to={`/PatientListD`}>\n          <div className=\"patientInfo-header-back\">Back</div>\n        </Link>\n        <Link className=\"patientInfo-header-link\" to={\"/PatientListD\"} onClick={onDelete}>\n          <div className=\"patientInfo-header-complete\">Delete</div>\n        </Link>\n        <div className=\"patient-list-header-user\">\n          <div className=\"patient-list-header-user-logout\" onClick={onLogOut}></div>\n          <HeaderUser />\n        </div>\n      </header>\n\n      <main className=\"patientInfo-content\">\n        <header className=\"patientInfo-content-header\">\n          <div className=\"patientInfo-content-header-name\">{info.Patient_nm}</div>\n          <div className=\"patientInfo-content-header-name\">{info.Patient_cd}</div>\n          <div className=\"patientInfo-content-header-chat\" onClick={onChat}>\n            <div className=\"patientInfo-content-header-chat-icon\"></div>\n            <h3 className=\"patientInfo-content-header-chat-title\">Go Live Chat</h3>\n          </div>\n        </header>\n        <div className=\"patientInfo-content-section\">\n          <div className=\"patientInfo-content-section-left\">\n            <section className=\"patientInfo-content-id\">\n              <h2 className=\"patientInfo-content-id-title\">ID</h2>\n              <div className=\"patientInfo-content-id-box\">\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Region\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Region}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Hospital\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Hospital}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Sex\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Sex}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Age\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Age}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Birth_dt\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Birth_dt}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Height\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Height}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title\">\n                    Weight\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Weight}</div>\n                </div>\n                <div className=\"patientInfo-content-id-box-item\">\n                  <div className=\"patientInfo-content-id-box-item-title-last\">\n                    Participants\n                  </div>\n                  <div className=\"patientInfo-content-id-box-item-text\">{info.Participants}</div>\n                </div>\n              </div>\n            </section>\n            <section className=\"patientInfo-content-memo\">\n              <h2 className=\"patientInfo-content-memo-title\">Memo</h2>\n              <div className=\"patientInfo-content-memo-box\">{info.Memo}</div>\n            </section>\n            <section className=\"patientInfo-content-file\">\n              <h2 className=\"patientInfo-content-file-title\">Files</h2>\n              <div className=\"patientInfo-content-file-box\">\n                <label htmlFor=\"file\">\n                  <div className=\"patientInfo-content-file-box-submit\"></div>\n                </label>\n                <div id=\"file\" className=\"patientInfo-content-file-box-item\"></div>\n                {files.map((file, index) => (\n                  <div key={index} className=\"patientInfo-content-file-box-file\" onClick={onDownload}>{file.File_nm}</div>\n                ))}\n              </div>\n            </section>\n          </div>\n          <section className=\"patientInfo-content-section-right\">\n            <h2 className=\"patientInfo-content-chat\">chat</h2>\n            <div className=\"patientInfo-content-chat-box\"></div>\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default PatientInfo;"],"names":["_jsxs","className","children","_jsx","_ref","_location$state","value","onHandleData","navigate","useNavigate","patient","useLocation","state","id","info","setInfo","useState","Patient_cd","Patient_nm","Region","Hospital","Sex","Age","Birth_dt","Height","Weight","Participants","Memo","files","setFiles","onDownload","e","fileName","target","innerText","async","send","response","fetch","method","headers","body","JSON","stringify","ok","Error","res","json","success","data","alert","msg","err","console","error","message","fileLoad","useEffect","dir","saveInfo","saveFile","Link","to","onClick","isDelete","code","fileDelete","HeaderUser","htmlFor","map","file","index","File_nm"],"sourceRoot":""}