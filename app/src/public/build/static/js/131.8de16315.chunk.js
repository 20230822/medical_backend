"use strict";(self.webpackChunkmedical_front=self.webpackChunkmedical_front||[]).push([[131],{173:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(184);const n=function(){return(0,i.jsxs)("div",{className:"header-user",children:[(0,i.jsx)("span",{className:"header-user-name",children:"name"}),(0,i.jsx)("span",{className:"header-user-icon"})]})}},131:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s(791),n=s(689),a=s(87),r=s(173),c=s(184);const l=function(e){let{value:t,onHandleData:s}=e;const l=(0,n.s0)(),[o,d]=(0,i.useState)({Patient_nm:"",Patient_cd:"a",Region:"",Hospital:"",Sex:"",Age:1,Birth_dt:"",Height:1,Weight:1,Participants:"",Memo:""}),[m,h]=(0,i.useState)([]),x=(0,i.useRef)(null);function g(e){const t=e.target.parentElement.children[0].innerText;if("Age"===t||"Height"===t||"Weight"===t){const s=Number(e.target.value);d({...o,[t]:s})}else{const s=e.target.value;d({...o,[t]:s})}}let j="",N=[];function u(e){if(d({...o,Sex:e.target.textContent}),j!==e.target.textContent){const t=e.target.parentElement.parentElement.children[1].children;for(let e=0;e<2;e++)N[e]=t[e],t[e].style.backgroundColor=""}""!==e.target.style.backgroundColor?(e.target.style.backgroundColor="",j=""):(e.target.style.backgroundColor="rgba(189, 189, 189, 0.62)",j=e.target.textContent)}function f(e){const t=m.filter((t=>t.name!==e.target.parentElement.children[0].innerText));h(t),x.current&&(x.current.value="")}return(0,c.jsxs)("div",{className:"register",children:[(0,c.jsxs)("header",{className:"register-header",children:[(0,c.jsx)("h1",{className:"register-header-title",children:"Patient Registration"}),(0,c.jsx)(a.rU,{className:"register-header-link",to:"/PatientListD",children:(0,c.jsx)("div",{className:"register-header-back",children:"Back"})}),(0,c.jsx)(a.rU,{className:"register-header-link",to:"/PatientListD",onClick:function(){!async function(e){try{const t=await fetch("http://localhost:8000/api/patient/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("\uc11c\ubc84 \uc751\ub2f5 \uc2e4\ud328");{const e=await t.json();e.success||alert(e.msg)}}catch(t){console.error(Error("\uc624\ub958"))}}(o),async function(e){const t=new FormData;for(let i=0;i<m.length;i++)t.append("file",m[i]);t.append("Patient_cd",o.Patient_cd);try{const e=await fetch("http://localhost:8000/api/dicom/upload",{method:"POST",header:{charset:"UTF-8"},body:t});if(!e.ok)throw Error("\uc11c\ubc84 \uc751\ub2f5 \uc2e4\ud328");{const t=await e.json();t.success||alert(t.msg)}}catch(s){console.error(Error("\uc624\ub958"))}}();const e=(new Date).toISOString().slice(0,10);s({Patient_cd:o.Patient_cd,Patient_nm:o.Patient_nm,Meet_dt:e,Region:o.Region,Hospital:o.Hospital,Participants:o.Participants,Memo:o.Memo})},children:(0,c.jsx)("div",{className:"register-header-complete",children:"Complete"})}),(0,c.jsxs)("div",{className:"patient-list-header-user",children:[(0,c.jsx)("div",{className:"patient-list-header-user-logout",onClick:function(){l("/")}}),(0,c.jsx)(r.Z,{})]})]}),(0,c.jsxs)("main",{className:"register-content",children:[(0,c.jsxs)("header",{className:"register-content-header",children:[(0,c.jsx)("input",{className:"register-content-header-name",placeholder:"New Patient Name",onChange:function(e){d({...o,Patient_nm:e.target.value})}}),(0,c.jsx)("input",{className:"register-content-header-name",placeholder:"ID Number",onChange:function(e){d({...o,Patient_cd:e.target.value})}})]}),(0,c.jsxs)("div",{className:"register-content-section",children:[(0,c.jsxs)("div",{className:"register-content-section-left",children:[(0,c.jsxs)("section",{className:"register-content-id",children:[(0,c.jsx)("h2",{className:"register-content-id-title",children:"ID"}),(0,c.jsxs)("div",{className:"register-content-id-box",children:[(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Region"}),(0,c.jsx)("input",{className:"register-content-id-box-item-text"})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Hospital"}),(0,c.jsx)("input",{className:"register-content-id-box-item-text"})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Sex"}),(0,c.jsx)("div",{className:"register-content-id-box-item-text",children:[{value:"male",name:"male"},{value:"female",name:"female"}].map((e=>(0,c.jsx)("div",{className:"register-content-id-box-item-form",onClick:u,children:e.name},e.value)))})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Age"}),(0,c.jsx)("input",{className:"register-content-id-box-item-text"})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Birth_dt"}),(0,c.jsx)("input",{type:"date",className:"register-content-id-box-item-text"})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Height"}),(0,c.jsx)("input",{className:"register-content-id-box-item-text"})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title",children:"Weight"}),(0,c.jsx)("input",{className:"register-content-id-box-item-text"})]}),(0,c.jsxs)("div",{className:"register-content-id-box-item",onChange:g,children:[(0,c.jsx)("div",{className:"register-content-id-box-item-title-last",children:"Participants"}),(0,c.jsx)("input",{className:"register-content-id-box-item-text"})]})]})]}),(0,c.jsxs)("section",{className:"register-content-memo",children:[(0,c.jsx)("h2",{className:"register-content-memo-title",children:"Memo"}),(0,c.jsx)("textarea",{className:"register-content-memo-box",onChange:function(e){d({...o,Memo:e.target.value})}})]}),(0,c.jsxs)("section",{className:"register-content-file",children:[(0,c.jsx)("h2",{className:"register-content-file-title",children:"Files"}),(0,c.jsxs)("div",{className:"register-content-file-box",children:[(0,c.jsx)("label",{htmlFor:"file",children:(0,c.jsx)("div",{className:"register-content-file-box-submit"})}),(0,c.jsx)("input",{type:"file",id:"file",className:"register-content-file-box-item",accept:".DCM",onChange:function(e){let t="none";if(0!==m.length&&""!==e.target.files)for(let s=0;s<m.length;s++)if(e.target.files[0].name===m[s].name){t="exist";break}"none"===t&&h([...m,e.target.files[0]])},ref:x}),m.map(((e,t)=>(0,c.jsxs)("div",{className:"register-content-file-box-file",children:[(0,c.jsx)("h3",{className:"register-content-file-box-file-title",children:e.name}),(0,c.jsx)("div",{className:"register-content-file-box-file-delete",onClick:f})]},t)))]})]})]}),(0,c.jsxs)("section",{className:"register-content-section-right",children:[(0,c.jsx)("h2",{className:"register-content-chat",children:"chat"}),(0,c.jsx)("div",{className:"register-content-chat-box"})]})]})]})]})}}}]);
//# sourceMappingURL=131.8de16315.chunk.js.map