{"version":3,"file":"static/js/393.547a46cf.chunk.js","mappings":"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","sources":["components/backgroundLogo.js","components/headerUser.js","routes/PatientListD.js"],"sourcesContent":["import \"../style/backgroundLogo.css\";\r\n\r\nfunction BackgroundLogo() {\r\n\r\n  return (\r\n    <div className=\"background\"></div>\r\n  );\r\n}\r\n\r\nexport default BackgroundLogo;","import \"../style/headerUser.css\";\r\n\r\nfunction HeaderUser() {\r\n  \r\n  return (\r\n    <div className=\"header-user\">\r\n      <span className=\"header-user-name\">name</span>\r\n      <span className=\"header-user-icon\"></span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HeaderUser;\r\n","import { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"../style/PatientList.css\";\nimport HeaderUser from \"../components/headerUser\";\nimport BackgroundLogo from \"../components/backgroundLogo\";\n\nfunction PatientListD( {value, onHandleData} ) {\n  const navigate = useNavigate();\n  const navItem = [\"Number\", \"Name\", \"City\", \"Hospital Name\", \"Doctors\", \"Resent Live Chat\"];\n  // 환자 개인정보 변수\n  const [info, setInfo] = useState([]);\n  useEffect(() => {\n    setInfo(value);\n  }, [value])\n  \n  let history = \"\"; // 클릭한 값의 아이디저장 변수\n  let childArray = []; // child의 배열인식을 위한 새로운 변수에 저장 용도\n\n  // 한번 클릭시 색상변경 및 같은 요소 두번 클릭 시 페이지 이동 \n  function onClick(e) {\n    // 처음 누른 값의 배경색 넣어주는 문\n    if (history === \"\") {\n      e.target.parentElement.style.backgroundColor = \"#DEEFFF\";\n      history = e.target.parentElement.id;\n    } \n    // 한번 누른 요소를 한번 더 클릭 한 것이 아닌 다른 요소를 클릭할 경우 전체 색을 리셋하고 누른 요소만 배경색 설정\n    else if (history !==  e.target.parentElement.id) {\n      const child = e.target.parentElement.parentElement.children;\n      for (let i = 0; i < info.length; i++) {\n        childArray[i] = child[i + 1];\n        childArray[i].style.backgroundColor = \"\";\n      }\n      e.target.parentElement.style.backgroundColor = \"#DEEFFF\";\n      history = e.target.parentElement.id;\n    } \n    // history와 같은 요소를 한번 더 누를 경우 페이지 이동\n    else {\n      navigate(`/PatientInfo`, {\n        state: { id: history},\n      });\n    }\n  }\n\n  // 페이지 렌더시 한번만 요청\n  useEffect(() => {\n    // 정보 저장하는 함수\n    async function saveInfo() {\n      try{\n        const response = await fetch('http://localhost:8000/api/patient', {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(),\n        });\n        // 연결 성공 유무 판단\n        if (response.ok) {\n          const res = await response.json();\n          if (res.success) {\n            // 데이터 저장\n            if(value.length === 0) {\n              res.data.map((patient) => {\n                const time = patient.Meet_dt;\n                const date = time.slice(0, 10); // 뒤의 시간부분은 자르는 변수\n                return (\n                  onHandleData(\n                    {\n                    Patient_cd: patient.Patient_cd,\n                    Patient_nm: patient.Patient_nm,\n                    Meet_dt: date,\n                    Region: patient.Region,\n                    Hospital: patient.Hospital,\n                    Participants: patient.Participants,\n                    }\n                  )\n                )\n              })\n            }\n          } else {\n            alert(res.msg);\n          }\n        } else {\n          throw Error(\"서버 응답 실패\");\n        }\n      } catch (err) {\n        console.error((err.message));\n      }\n    };\n\n    saveInfo();\n  }, [])\n  \n  // 로그아웃 함수\n  function onLogOut() {\n    navigate(`/`);\n  }\n\n  return (\n    <div className=\"patient-list\">\n      <BackgroundLogo />\n\n      <header className=\"patient-list-header\">\n        <h1 className=\"patient-list-header-title\">Patient List</h1>\n        <Link className=\"patient-list-header-register-link\" to={`/Register`}>\n          <div className=\"patient-list-header-register\">Add Patient</div>\n        </Link>\n        <div className=\"patient-list-header-user\">\n          <div className=\"patient-list-header-user-logout\" onClick={onLogOut}></div>\n          <HeaderUser />\n        </div>\n      </header>\n\n      <article className=\"patient-list-content\">\n        <header className=\"patient-list-content-title\">\n          {navItem.map((title) => <h3 className=\"patient-list-content-title-item\" key={title}>{title}</h3>)}\n        </header>\n  \n        {info.length > 0 && info.map((patient) => (\n          <ol className=\"patient-list-content-ol\" key={patient.Patient_cd} id={patient.Patient_cd} onClick={onClick}>\n            <li className=\"patient-list-content-ol-item\">{patient.Patient_cd}</li>\n            <li className=\"patient-list-content-ol-item\">{patient.Patient_nm}</li>\n            <li className=\"patient-list-content-ol-item\">{patient.Region}</li>\n            <li className=\"patient-list-content-ol-item\">{patient.Hospital}</li>\n            <li className=\"patient-list-content-ol-item\">{patient.Participants}</li>\n            <li className=\"patient-list-content-ol-item\">{patient.Meet_dt}</li>\n          </ol>\n          )\n        )}\n      </article>\n    </div>\n  );\n}\n\nexport default PatientListD;"],"names":["_jsx","className","_jsxs","children","_ref","value","onHandleData","navigate","useNavigate","info","setInfo","useState","useEffect","history","childArray","onClick","e","target","parentElement","style","backgroundColor","id","child","i","length","state","async","response","fetch","method","headers","body","JSON","stringify","ok","Error","res","json","success","data","map","patient","date","Meet_dt","slice","Patient_cd","Patient_nm","Region","Hospital","Participants","alert","msg","err","console","error","message","saveInfo","BackgroundLogo","Link","to","HeaderUser","title"],"sourceRoot":""}